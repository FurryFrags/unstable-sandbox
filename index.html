<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Voxel Spectator Sandbox</title>
    <link rel="stylesheet" href="styles.css" />
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.164.1/build/three.module.js"
        }
      }
    </script>
  </head>
  <body>
    <canvas id="scene"></canvas>

    <div id="home-menu" class="overlay-panel">
      <h1>Voxel Spectator Sandbox</h1>
      <p>Choose a world, create a new one, then jump in.</p>

      <section>
        <h2>Worlds Saved</h2>
        <div id="world-list" class="world-list"></div>
        <div class="new-world-row">
          <input id="new-world-name" type="text" maxlength="32" placeholder="New world name" />
          <button id="create-world-btn" type="button">Create World</button>
        </div>
      </section>

      <section>
        <h2>Options</h2>
        <label class="toggle">
          <input id="option-start-fly" type="checkbox" />
          Start in fly mode
        </label>
      </section>
    </div>

    <div id="world-hud" class="hud hidden">
      <h2 id="world-title">World</h2>
      <ul>
        <li><strong>Click</strong> to lock mouse</li>
        <li><strong>WASD</strong> move</li>
        <li><strong>Space / Shift</strong> fly up/down</li>
        <li><strong>Esc</strong> unlock pointer</li>
      </ul>
      <p id="status">Loading worldâ€¦</p>

      <div class="god-mode">
        <h3>God mode</h3>
        <p>Time speed</p>
        <div class="speed-buttons">
          <button data-time-speed="1" type="button">1x</button>
          <button data-time-speed="2" type="button">2x</button>
          <button data-time-speed="5" type="button">5x</button>
        </div>
      </div>

      <button id="back-home-btn" type="button" class="back-btn">Back to Home</button>
    </div>

    <div id="mini-map" class="map-panel hidden">
      <h3>World Map</h3>
      <canvas id="mini-map-canvas" width="180" height="180"></canvas>
      <p>Press <strong>M</strong> for full map</p>
    </div>

    <div id="full-map-overlay" class="map-overlay hidden">
      <div class="map-card">
        <div class="map-card-top">
          <h2>World Map</h2>
          <button id="close-map-btn" type="button">Close</button>
        </div>
        <p>Left-click to teleport. Right-click for options.</p>
        <canvas id="full-map-canvas" width="640" height="640"></canvas>
      </div>
      <div id="map-context-menu" class="map-context-menu hidden"></div>
    </div>

    <script type="module" src="script.js?v=world-map-pins-1"></script>
  </body>
</html>
